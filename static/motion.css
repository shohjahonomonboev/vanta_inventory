/* =============================
--ease-spring: cubic-bezier(.17,.84,.44,1);
--ring: 0 10px 30px rgba(17,24,39,.10);
}


/* Respect users who prefer reduced motion */
@media (prefers-reduced-motion: reduce){
*{ animation-duration: 1ms !important; animation-iteration-count: 1 !important; transition-duration: 1ms !important; scroll-behavior: auto !important; }
}


/* Smooth page entrance */
body{ opacity: 0; transform: translateY(6px); transition: opacity var(--motion-slow) var(--ease-smooth), transform var(--motion-slow) var(--ease-smooth); }
body.motion-ready{ opacity: 1; transform: none; }


/* ---------- Utility transitions ---------- */
.a-transition{ transition: all var(--motion-med) var(--ease-smooth); }
.a-fade{ opacity: 0; transform: translateY(12px); }
.a-fade.in{ opacity: 1; transform: none; }


/* Slide & Fade variants */
.a-up{ opacity: 0; transform: translateY(16px); }
.a-up.in{ opacity: 1; transform: translateY(0); }
.a-down{ opacity: 0; transform: translateY(-16px); }
.a-down.in{ opacity: 1; transform: translateY(0); }
.a-left{ opacity: 0; transform: translateX(16px); }
.a-left.in{ opacity: 1; transform: translateX(0); }
.a-right{ opacity: 0; transform: translateX(-16px); }
.a-right.in{ opacity: 1; transform: translateX(0); }


/* Scale pop for modals, menus, toasts */
@keyframes a-pop{ 0%{ transform: scale(.96); opacity: 0 } 100%{ transform: scale(1); opacity: 1 } }
.a-pop{ animation: a-pop var(--motion-med) var(--ease-spring) both; }


/* Subtle hover lifts */
.btn, .card, .chip{ transition: transform var(--motion-med) var(--ease-smooth), box-shadow var(--motion-med) var(--ease-smooth), background var(--motion-fast) var(--ease-smooth); will-change: transform; }
.btn:hover, .card:hover{ transform: translateY(-3px); box-shadow: var(--shadow, 0 10px 30px rgba(0,0,0,.08)); }
.btn:active{ transform: translateY(-1px) scale(.99); }


/* Focus ring */
:where(button, .btn, input, select, textarea, a):focus-visible{
outline: none; box-shadow: 0 0 0 3px color-mix(in oklab, var(--primary), white 40%);
}


/* Ghost shimmer (for skeletons) */
@keyframes shimmer{ 0%{ background-position:-200% 0 } 100%{ background-position:200% 0 } }
.skeleton{ position: relative; overflow: hidden; background: linear-gradient(90deg, rgba(0,0,0,.06), rgba(0,0,0,.12), rgba(0,0,0,.06)); background-size: 200% 100%; animation: shimmer 1.6s linear infinite; border-radius: 12px; }


/* Cards enter stagger */
.stagger > *{ opacity: 0; transform: translateY(12px); }
.stagger > *.in{ opacity: 1; transform: none; }


/* Toasts */
@keyframes toast-in{ from{ transform: translateY(12px); opacity: 0 } to{ transform: none; opacity: 1 } }
@keyframes toast-out{ to{ transform: translateY(12px); opacity: 0 } }
.toast{ animation: toast-in var(--motion-med) var(--ease-spring) both; }
.toast.hide{ animation: toast-out var(--motion-med) var(--ease-spring) forwards; }


/* Modal backdrop */
.backdrop{ opacity: 0; backdrop-filter: blur(0px); transition: opacity var(--motion-med) var(--ease-smooth), backdrop-filter var(--motion-med) var(--ease-smooth); }
.backdrop.open{ opacity: 1; backdrop-filter: blur(6px); }


/* Micro pulse for success checks */
@keyframes micro-pulse{ 0%{ transform: scale(1) } 50%{ transform: scale(1.04) } 100%{ transform: scale(1) } }
.pulse-once{ animation: micro-pulse 360ms var(--ease-spring) 1; }


/* Chart area reveal */
.chart-reveal{ opacity: 0; clip-path: inset(0 0 10% 0 round 12px); transform: translateY(10px); transition: all var(--motion-slow) var(--ease-smooth); }
.chart-reveal.in{ opacity: 1; clip-path: inset(0 0 0 0 round 12px); transform: none; }